@model MTI.Customdata.StudentsArabicdata
@using MTI.Helpers
@{
    ViewBag.Title = "StudentCard";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div>
    <button id="print" class="btn btn-primary">طباعة</button>
</div>
<div class="container printx" id="snippet" style="  font-size:150%;">

    <div class="row" id="data" style="direction:rtl;text-decoration:underline;  ">
        <div class="col-md-4 text-right" style="text-align:right;">
            <p><strong>المعهد الفني للقوات المسلحة</strong></p>
            <p><strong>فـــرع نــظــم المعـلــومات</strong></p>
            <p><strong>@ViewBag.Date</strong></p>
        </div>
        <div class="col-md-4 text-center">
            <h2 class="border fa-underline text-danger"><strong>كــارت الــطالــب</strong></h2>
            <h3><strong>البيانات الأساسية</strong></h3>
        </div>
        <div class="col-md-4">
            <img src="~/Image/logo color204144382.jpg" style="width:120px;height:120px;position:absolute;top:0;left:10px;" />
        </div>
    </div>


        <div class="row font-weight-bold" style="direction:rtl;text-align:right;">

            <div class="col-sm-9">

                <hr>
                <div class="row">
                    <div class="col-md-4">
                        <label for="SSn"><h3>@Html.DisplayNameFor(m => m.StudentNumber)</h3></label>
                        <label class="form-control font-weight-bolder"> @Html.DisplayFor(model => model.StudentNumber, new { @class = "form-control " })</label>
                    </div>

                    <div class="col-md-4">
                        <label for="SSn"><h3>@Html.DisplayNameFor(m => m.SSN)</h3></label>
                        <label class="form-control font-weight-bolder"> @Html.DisplayFor(model => model.SSN, new { @class = "form-control" })</label>
                    </div>
                    <div class="col-md-4">
                        <label for="SSn"><h3>@Html.DisplayNameFor(m => m.Name)</h3></label>
                        <label class="form-control font-weight-bolder
                               "> @Html.DisplayFor(model => model.Name, new { @class = "form-control" })</label>
                    </div>

                </div>
                <div class="row">

                    <div class="col-md-4">
                        <label for="SSn"><h3>@Html.DisplayNameFor(m => m.batchNo)</h3></label>
                        <label class="form-control font-weight-bolder"> @Html.DisplayFor(model => model.batchNo, new { @class = "form-control" })</label>
                    </div>

                    <div class="col-md-4">
                        <label for="SSn"><h3>@Html.DisplayNameFor(m => m.Level)</h3></label>
                        <label class="form-control font-weight-bolder"> @Html.DisplayFor(model => model.Level, new { @class = "form-control" })</label>
                    </div>

                    <div class="col-md-4">
                        <label for="SSn"><h3>@Html.DisplayNameFor(m => m.Specialization)</h3></label>
                        <label class="form-control font-weight-bolder"> @Html.DisplayFor(model => model.Specialization, new { @class = "form-control" })</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4">
                        <label for="SSn"><h3>@Html.DisplayNameFor(m => m.Qualification)</h3></label>
                        <label class="form-control font-weight-bolder"> @Html.DisplayFor(model => model.Qualification, new { @class = "form-control" })</label>
                    </div>

                    <div class="col-md-4">
                        <label for="SSn"><h3>@Html.DisplayNameFor(m => m.GPA)</h3></label>
                        <label class="form-control font-weight-bolder"> @Html.DisplayFor(model => model.GPA, new { @class = "form-control" })%</label>
                    </div>
                    <div class="col-md-4">
                        <label for="SSn"><h3>@Html.DisplayNameFor(m => m.getindate)</h3></label>
                        <label class="form-control  font-weight-bolder"> @Html.DisplayFor(model => model.getindate, new { @class = "form-control" })</label>
                    </div>

                </div>
                <div class="row">


                    <div class="col-md-6">
                        <label for="SSn"><h3>@Html.DisplayNameFor(m => m.expectedgraduateddate)</h3></label>
                        <label class="form-control font-weight-bolder"> @Html.DisplayFor(model => model.expectedgraduateddate, new { @class = "form-control" })</label>
                    </div>
                    <div class="col-md-6">
                        <label class=" font-weight-bolder" for="SSn"><h3>@Html.DisplayNameFor(m => m.graduatedate)</h3></label>
                        @if (Model.graduatedate == null)
                        {
                            <label class="form-control font-weight-bolder"> لم يحدد بعد</label>
                        }
                        else
                        {
                            <label class="form-control"> @Html.DisplayFor(model => model.graduatedate, new { @class = "form-control" })</label>
                        }
                    </div>
                </div>
                <div class="row">

                    <div class="col-md-6">
                        <label for="SSn"><h3>@Html.DisplayNameFor(m => m.PlaceofBirth )</h3></label>
                        <label class="form-control font-weight-bolder"> @Html.DisplayFor(model => model.PlaceofBirth , new { @class = "form-control" })</label>
                    </div>
                    <div class="col-md-6">
                        <label for="SSn"><h3>@Html.DisplayNameFor(m => m.BirthDate)</h3></label>
                        <label class="form-control font-weight-bolder"> @Html.DisplayFor(model => model.BirthDate, new { @class = "form-control" })</label>
                    </div>
                </div>
                <!---->
                <div class="row">
                    <div class="col-md-4">
                        <label for="SSn"><h3>@Html.DisplayNameFor(m => m.Nationality)</h3></label>
                        <label class="form-control font-weight-bolder"> @Html.DisplayFor(model => model.Nationality, new { @class = "form-control" })</label>
                    </div>
                    <div class="col-md-4">
                        <label for="SSn"><h3>@Html.DisplayNameFor(m => m.City)</h3></label>
                        <label class="form-control font-weight-bolder"> @Html.DisplayFor(model => model.City, new { @class = "form-control" })</label>
                    </div>


                    <div class="col-md-4">
                        <label for="SSn"><h3>@Html.DisplayNameFor(m => m.Post)</h3></label>
                        <label class="form-control font-weight-bolder"> @Html.DisplayFor(model => model.Post, new { @class = "form-control" })</label>
                    </div>
                </div>
                <div>

                    <label for="SSn"><h3>@Html.DisplayNameFor(m => m.Address)</h3></label>
                    <label class="form-control font-weight-bolder"> @Html.DisplayFor(model => model.Address, new { @class = "form-control" })</label>

                </div>
                <div class="row">

                    <div class="col-md-6">
                        <label for="SSn"><h3>@Html.DisplayNameFor(m => m.Team)</h3></label>
                        @if (Model.Team != null)
                        {
                            <label class="form-control font-weight-bolder"> @Html.DisplayFor(model => model.Team, new { @class = "form-control" })</label>

                        }
                        else
                        {
                            <label class="form-control font-weight-bolder">لم يلتحق بعد</label>
                        }
                    </div>
                    <div class="col-md-6">
                        <label for="SSn"><h3>@Html.DisplayNameFor(m => m.Blood_Type)</h3></label>
                        <label class="form-control font-weight-bolder"> @Html.DisplayFor(model => model.Blood_Type, new { @class = "form-control" })</label>
                    </div>
                </div>
                <div class="row">

                    <div class="col-md-6">
                        <label for="SSn"><h3>@Html.DisplayNameFor(m => m.Mobile)</h3></label>
                        <label class="form-control font-weight-bolder"> @Html.DisplayFor(model => model.Mobile, new { @class = "form-control" })</label>
                    </div>
                    <div class="col-md-6">
                        <label for="SSn"><h3>@Html.DisplayNameFor(m => m.secondNum)</h3></label>
                        <label class="form-control font-weight-bolder"> @Html.DisplayFor(model => model.secondNum, new { @class = "form-control" })</label>
                    </div>
                </div>
                <div>
                    <label for="SSn"><h3>@Html.DisplayNameFor(m => m.Email)</h3></label>
                    @{ var zx = Model.Email;}
                    <label class="form-control font-weight-bolder"> @Html.DisplayFor(model =>zx, new { @class = "form-control" })</label>
                </div>
                <div class="row">
                    <div class="col-md-3">
                        <label for="SSn"><h3>@Html.DisplayNameFor(m => m.Job)</h3></label>
                        <label class="form-control font-weight-bolder"> @Html.DisplayFor(model => model.Job)</label>
                    </div>

                    <div class="col-md-3">
                        <label for="SSn"><h3>@Html.DisplayNameFor(m => m.fatherNum)</h3></label>
                        <label class="form-control font-weight-bolder"> @Html.DisplayFor(model => model.fatherNum, new { @class = "form-control" })</label>
                    </div>

                    <div class="col-md-3">
                        <label for="SSn"><h3>@Html.DisplayNameFor(m => m.Numofbrothers)</h3></label>
                        <label class="form-control font-weight-bolder"> @Html.DisplayFor(model => model.Numofbrothers, new { @class = "form-control" })</label>
                    </div>

                    <div class="col-md-3">

                        <label for="SSn"><h3>@Html.DisplayNameFor(m => m.NumAmongBrothers)</h3></label>
                        <label class="form-control font-weight-bolder"> @Html.DisplayFor(model => model.NumAmongBrothers, new { @class = "form-control" })</label>
                    </div>

                </div>
                <!---->

                <div class="row">
                    <div class="col-md-3">
                        <label for="SSn"><h3>@Html.DisplayNameFor(m => m.Relativename)</h3></label>
                        <label class="form-control font-weight-bolder"> @Html.DisplayFor(model => model.Relativename, new { @class = "form-control" })</label>
                    </div>
                    <div class="col-md-3">
                        <label for="SSn"><h3>@Html.DisplayNameFor(m => m.Relationship)</h3></label>
                        <label class="form-control font-weight-bolder"> @Html.DisplayFor(model => model.Relationship, new { @class = "form-control" })</label>
                    </div>
                    <div class="col-md-3">
                        <label for="SSn"><h3>@Html.DisplayNameFor(m => m.Status)</h3></label>
                        <label class="form-control font-weight-bolder"> @Html.DisplayFor(model => model.Job)</label>
                    </div>
                    <div class="col-md-3">
                        <label for="SSn"><h3>@Html.DisplayNameFor(m => m.RelativeNum)</h3></label>
                        <label class="form-control font-weight-bolder"> @Html.DisplayFor(model => model.RelativeNum, new { @class = "form-control" })</label>
                    </div>
                </div>
                <hr />
                <div class="well bg-success" style=" display:inline-block;width:100%; background-color:green;">
                    <h2 style="float:right;">المكافأت</h2>
                    <a class=" buttonprimary" href='/Reward/AddReward' style="float:left;"> أضافة مكافأة </a>
                </div>
                @if (Model.Rewards.Count == 0)
                {
                    <h2>لا يوجد مكافأه لهذا الطالب</h2>
                }
                else
                {
                    <table class="table table-bordered text-center">
                        <thead>
                            <tr >
                                <th class="text-center">موقع المكافأة</th>
                                <th class="text-center">سبب المكافأة</th>
                                <th class="text-center">المكافأة</th>
                                <th class="text-center">  الدرجات المضافة</th>
                                <th class="text-center">تاريخ المكافأة</th>

                            </tr>
                        </thead>

                        @foreach (var reward in Model.Rewards)
                        {
                            <tbody class=" font-weight-bolder">
                                <tr>
                                    <td>
                                        @Html.DisplayFor(modelItem => reward.WhoApplyIt)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => reward.Reward_reason)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => reward.reward)
                                    </td>
                                    <td>
                                        @{ var arbicplusgrade = reward.plusGrades.ToString().ConvertNumeralsToArabic();}
                                        @Html.DisplayFor(modelItem => arbicplusgrade)
                                    </td>
                                    <td>
                                        @{ var arabicdate = reward.RewardDate.Value.ToString("yyyy/MM/dd").ConvertNumeralsToArabic();}

                                        @Html.DisplayFor(modelItem => arabicdate)
                                    </td>

                                </tr>
                            </tbody>
                        }

                    </table>
                }
                <hr />

                <div>
                    <div class="well bg-danger" style="display:inline-block;width:100%;">
                        <h2 style="float:right;">العقوبات</h2>
                        <a class=" btn btn-danger" href='/Punshiment/AddPunshiment' style="float:left;text-align:center;"> أضافة عقوبة </a>
                    </div>
                    @if (Model.punishments.Count == 0)
                    {
                        <h2>لا يوجد عقوبات مسجلة لهذا الطالب</h2>
                    }
                    else
                    {
                        <table class="table table-bordered text-center">
                            <thead>
                                <tr>
                                    <th class="text-center">موقع العقوبة</th>
                                    <th class="text-center">سبب العقوبة</th>
                                    <th class="text-center"> العقوبة</th>
                                    <th class="text-center">الدرجات المفقودة</th>
                                    <th class="text-center">تاريخ العقوبة</th>


                                </tr>
                            </thead>

                            @foreach (var punsh in Model.punishments)
                            {
                                <tbody class=" font-weight-bolder">

                                    <tr>
                                        <td>@Html.DisplayFor(modelItem => punsh.WhoApplyIt)</td>
                                        <td>@Html.DisplayFor(modelItem => punsh.crime)</td>
                                        <td>@Html.DisplayFor(modelItem => punsh.punshiment)</td>

                                        <td>                          
                                            @{ var Minus = punsh.MinusGrades.ToString().ConvertNumeralsToArabic();}
                                            @Html.DisplayFor(modelItem => Minus)
                                        </td>
                                        <td>
                                            @{ var arabicdates = punsh.PunshimentDate.Value.ToString("yyyy/MM/dd").ConvertNumeralsToArabic();}
                                            @Html.DisplayFor(modelItem => arabicdates)
                                        </td>

                                    </tr>
                                </tbody>
                            }

                        </table>
                    }
                </div>
                <hr />

                <div>
                    <div class="well bg-warning" style="display:inline-block;width:100%;">
                        <h2 style="float:right;">رماية الطالب</h2>
                        <a class=" btn btn-primary" href='/shooting/AddData' style="float:left;text-align:center;"> أضافة رماية </a>
                    </div>
                    @if (Model.shootings.Count == 0)
                    {
                        <h2>لا يوجد رماية لهذا الطالب</h2>
                    }
                    else
                    {
                        <table class="table table-bordered  text-center" style="text-align:center;">
                            <thead>
                                <tr>
                                    <th class="text-center">أسم التمرين</th>
                                    <th class="text-center">عدد الطلقات</th>
                                    <th class="text-center">نوع السلاح</th>
                                    <th class="text-center">أصابة</th>
                                    <th class="text-center">التقدير</th>
                                    <th class="text-center">أخطاء الرامي</th>
                                    <th class="text-center">تاريخ الرماية</th>

                                </tr>
                            </thead>

                            @foreach (var shoot in Model.shootings)
                            {
                                <tbody class=" font-weight-bolder">

                                    <tr>
                                        <td>@Html.DisplayFor(modelItem => shoot.Trainingname)</td>

                                        <td>
                                            @{ var numofbullet = shoot.numofbullet.ToString().ConvertNumeralsToArabic();}
                                            @Html.DisplayFor(modelItem => numofbullet)
                                        </td>
                                        <td>@Html.DisplayFor(modelItem => shoot.weaponname)</td>
                                        <td>
                                            @{ var successshotar = shoot.numofsuccessshots.ToString().ConvertNumeralsToArabic();}
                                            @Html.DisplayFor(modelItem => successshotar)
                                        </td>
                                        <td>@Html.DisplayFor(modelItem => shoot.Grade)</td>
                                        <td>@Html.DisplayFor(modelItem => shoot.ShootigErrors)</td>
                                        <td>
                                            @{ var shootdatear = shoot.Dateofshoot.ToString("yyyy/mm/dd").ConvertNumeralsToArabic();}
                                            @Html.DisplayFor(modelItem => shootdatear)
                                        </td>
                                    </tr>
                                </tbody>
                            }

                        </table>
                    }
                </div>
                <div>
                    <div class="well bg-info" style="display:inline-block;width:100%;">
                        <h2 style="float:right;">المواقف</h2>
                    </div>
                    @if (Model.situations.Count == 0)
                    {
                        <h2>لا يوجد مواقف لهذا الطالب</h2>
                    }
                    else
                    {
                        <table class="table table-bordered  text-center" style="text-align:center;">
                            <thead>
                                <tr>
                                    <th class="text-center">التاريخ </th>
                                    <th class="text-center"> نوع الموقف</th>
                                    <th class="text-center">السبب</th>
                                    <th class="text-center">التفاصيل</th>

                                </tr>
                            </thead>

                            @foreach (var shoot in Model.situations)
                            {
                                <tbody class=" font-weight-bolder">

                                    <tr>
                                        <td>
                                            @{ var situationdateAR = shoot.date.Value.ToString("yyyy/mm/dd").ConvertNumeralsToArabic();}
                                            @Html.DisplayFor(modelItem => situationdateAR)
                                        </td>
                                        <td>@Html.DisplayFor(modelItem => shoot.SituationType)</td>
                                        <td>@Html.DisplayFor(modelItem => shoot.procedure)</td>
                                        <td>@Html.DisplayFor(modelItem => shoot.Details)</td>
                                       
                                    </tr>
                                </tbody>
                            }

                        </table>
                    }
                </div>
            </div>
             
                 <div class="col-sm-3">
                <!--left col-->
                    <br />
                    <div class="text-center">
                        <img src="@Model.Image" class="avatar img-tumbnail" style="height:100;width:100;width: 210px;height: 210px;  border: 5px solid #555;" alt="avatar">
                        @{
                            var x = Model.ID;
                        }
                        <a class=" btn btn-info" style="height:40px;" href='/students/Edit/@Model.ID' +>تعديل البيانات </a>
                    </div></hr><br>


            </div><!--/col-3-->

            </div>

           

        </div>

        



@section scripts{
    <script type="text/javascript">
        $(document).ready(function () {
            $("#data").hide();
        });

        $("#print").live("click", function () {
            var mywindow = window.open('', 'new div', 'height=400,width class="text-center"=600');
            $("#data").show();
            var divContents = $("#snippet").html();
            mywindow.document.write('<html><head><title></title>');
            mywindow.document.write('<link rel="stylesheet" href="/content/bootstrap-spacelap.css" type="text/css" />');
            mywindow.document.write('<link rel="stylesheet" href="/content/viewstudent.css" type="text/css" />');
            mywindow.document.write('<link rel="stylesheet" href="/content/bootstrap.css" type="text/css" />');
            mywindow.document.write('<link rel="stylesheet" href="/content/student-profile.css" type="text/css" />');

            mywindow.document.write('</head><body >');
            mywindow.document.write(divContents);
            mywindow.document.write('</body></html>');
            mywindow.document.close();
            mywindow.focus();
            setTimeout(function () { mywindow.print(); }, 1000);
            $("#data").hide();
        });
 </script>

}